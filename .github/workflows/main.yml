name: Download and Upload Backdoor-App
 
on:
  workflow_dispatch: # Allows manual triggering of the workflow
 
jobs:
  sync-repo:
    runs-on: ubuntu-latest
     
    steps:
    - name: Checkout Repository
      uses: actions/checkout@v4
       
    - name: Download ZIP file
      run: |
        curl -L -o Backdoor-v5-main.zip "https://github.com/Backdoor-v5/Backdoor-v5/archive/refs/heads/main.zip"
         
    - name: Unzip the file
      run: |
        unzip Backdoor-v5-main.zip
         
    - name: Move contents to root
      run: |
        mv Backdoor-v5-main/* .
        rm -rf Backdoor-v5-main Backdoor-v5-main.zip
         
    - name: Commit and Push changes
      run: |
        git config --global user.name "github-actions[bot]"
        git config --global user.email "github-actions[bot]@users.noreply.github.com"
        git add .
        git commit -m "Sync Backdoor-App files from source repo"
        git push --force
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}